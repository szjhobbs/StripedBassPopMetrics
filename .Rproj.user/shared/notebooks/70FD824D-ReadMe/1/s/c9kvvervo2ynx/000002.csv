"0",""
"0","# head(catch)"
"0",""
"0","# for stacked plot"
"0","mat_layout <- matrix(data = 1:2, nrow = 2, ncol = 1, byrow = TRUE)"
"0","nf <- layout(mat = mat_layout)"
"0","# layout.show(n = nf)"
"0",""
"0","# for keeping bottom & left spaces to display axes title"
"0","# par(oma = c(4, 5, 1, 1), cex.axis = 1.5, family = ""sans"")"
"0","par(oma = c(3, 3, 0.5, 1), cex.axis = 1.05)"
"0",""
"0","with(data = catch, expr = {"
"0","  "
"0","  # to create empty plot"
"0","  rngx <- range(RelYear)"
"0","  rngy <- range(Total)"
"0","  "
"0","  # "
"0","  all_years <- rngx[1]:rngx[2]"
"0","  xtick <- all_years %% 5 == 0"
"0","  # print(xtick)"
"0","  "
"0","  # for plotting both gear types"
"0","  vals <- lapply(list(1, 2), FUN = function(g) {"
"0","    "
"0","    par(mar = c(0.1, 0.5, 1.0, 0.1), mgp = c(1, 0.6, 0))"
"0","    "
"0","    # to get data specific to gear type"
"0","    "
"0","    # to plot annual ticks every 5 years"
"0","    # xtick <- all_years %% 5 == 0"
"0","      type = ""n"","
"0","      xaxt = ""n"","
"0","      las = 1,"
"0","      # xlab = ""Year"","
"0","      # ylab = sprintf(fmt = ""Days sampled (%s)"", g),"
"0","      xlim = rngx + c(1, -1)"
"0","    )"
"0","  "
"0","    # custom y-axis tick display"
"0","    axis("
"0","      labels = axTicks(side = 2) / 1000,"
"0","      col = ""transparent"","
"0","      col.ticks = ""grey30"","
"0","  "
"0","    # for grey background & white gridlines"
"0","    par(xaxp = c(rngx, diff(rngx)))"
"0","    grid(lty = 1, col = ""white"", lwd = 1)"
"0","  "
"0","    # plot total data as bar"
"0","    lines("
"0","      # x = X1[b] - 0.2,"
"0","      x = RelYear[b],"
"0","      y = Total[b],"
"0","      lend = 1,"
"0","      lwd = 10,"
"0","      # col = ""orange2"","
"0","      # col = rgb(0, 0, 0, 0.75),"
"0","      col = ""grey40"","
"0","      type = ""h"""
"0","    )"
"0","    # plot tagged data as bar"
"0","    lines("
"0","      # x = X1[b] - 0.2,"
"0","      y = Tagged[b],"
"0","      lend = 1,"
"0","      lwd = 1,"
"0","      # col = ""orange2"","
"0","      # col = rgb(0, 0, 0, 0.75),"
"0","      col = ""orange2"","
"0","      type = ""h"""
"0","    "
"0","    # for identifying which plot is which"
"0","    mtext("
"0","      text = sprintf(fmt = ""Gear type: %s"", glkp[g]),"
"0","      line = 0,"
"0","      adj = 0"
"0","    )"
"0","    "
"0","  # end lapply()"
"0","  "
"0","  # resent to one plot"
"0","  layout(mat = 1)"
"0","  # print(vals)"
"0","  axis("
"0","    side = 1,"
"0","    # at = RelYear[vals[[1]]],"
"0","    # labels = RelYear[vals[[1]]],"
"0","    at = all_years[xtick],"
"0","    labels = all_years[xtick],"
"0","    col = ""transparent"","
"0","    col.ticks = ""grey30"","
"0","    cex = 1.05"
"0","  )"
"0","  "
"0","  # axis labels"
"0","  mtext(text = ""Year"", side = 1, line = 1.75)"
"0","  "
"0","  # print(axTicks(side = 1))"
"0","  "
"0","  par(lend = 1)"
"0","  "
"0","    x = 2018,"
"0","    y = 15200,"
"0","    legend = c(""Total"", ""Tagged""),"
"0","    col = c(""grey40"", ""orange2""),"
"0","    lwd = c(10, 1),"
"0","    border = NA,"
"0","    # col = NA,"
"0","    bty = ""n"","
"0","    ncol = 2,"
"0","    xpd = TRUE,"
"0","    xjust = 1,"
"0","    x.intersp = 0.5,"
"0","    seg.len = 2"
"0","  )"
"0","})"
"0",""
