"0",""
"0","# for stacked plot"
"0","mat_layout <- matrix(data = 1:2, nrow = 2, ncol = 1, byrow = TRUE)"
"0","nf <- layout(mat = mat_layout)"
"0","# layout.show(n = nf)"
"0",""
"0","# for keeping bottom & left spaces to display axes title"
"0","# par(oma = c(4, 5, 1, 1), cex.axis = 1.5, family = ""sans"")"
"0","par(oma = c(3, 3, 0.5, 1), cex.axis = 1.05)"
"0",""
"0","with(data = days_gear, expr = {"
"0","  "
"0","  # to create empty plot"
"0","  rngx <- range(X1)"
"0","  rngy <- range(Days)"
"0","  "
"0","  # for plotting both gear types"
"0","  vals <- lapply(list(""GN"", ""FT""), FUN = function(g) {"
"0","    "
"0","    par(mar = c(0.1, 0.5, 1.0, 0.1), mgp = c(1, 0.6, 0))"
"0","    "
"0","    # to get data specific to gear type"
"0","    b <- X2 %in% g"
"0","    "
"0","    # to plot annual ticks every 5 years"
"0","    xtick <- X1 %% 5 == 0"
"0","    "
"0","    plot("
"0","      x = rngx,"
"0","      y = rngy,"
"0","      type = ""n"","
"0","      xaxt = ""n"","
"0","      las = 1,"
"0","      yaxt = ""n"","
"0","      # xlab = ""Year"","
"0","      # ylab = sprintf(fmt = ""Days sampled (%s)"", g),"
"0","      xlim = rngx + c(1, -1)"
"0","    )"
"0","  "
"0","    # custom y-axis tick display"
"0","    axis("
"0","      side = 2,"
"0","      at = axTicks(side = 2)[c(TRUE, FALSE)],"
"0","      labels = axTicks(side = 2)[c(TRUE, FALSE)],"
"0","      col = ""transparent"","
"0","      col.ticks = ""grey30"","
"0","      cex = 1.05,"
"0","      las = 1"
"0","    )"
"0","  "
"0","    # for grey background & white gridlines"
"0","    par(xaxp = c(rngx, diff(rngx)))"
"0","    grid(lwd = 1000, col = ""grey90"")"
"0","    grid(lty = 1, col = ""white"", lwd = 1)"
"0","  "
"0","    # plot data as bar"
"0","    lines("
"0","      # x = X1[b] - 0.2,"
"0","      x = X1[b],"
"0","      y = Days[b],"
"0","      lend = 1,"
"0","      lwd = 6,"
"0","      # col = ""orange2"","
"0","      # col = rgb(0, 0, 0, 0.75),"
"0","      col = ""grey40"","
"0","      type = ""h"""
"0","    )"
"0","    "
"0","    # for identifying which plot is which"
"0","    mtext("
"0","      text = sprintf(fmt = ""Gear type: %s"", g),"
"0","      side = 3,"
"0","      line = 0,"
"0","      adj = 0"
"0","    )"
"0","    "
"0","    # output for convenience of custom x-axis"
"0","    xtick"
"0","  })"
"0","  # end lapply()"
"0","  "
"0","  # resent to one plot"
"0","  layout(mat = 1)"
"0","  "
"0","  # custom x-axis"
"0","  axis("
"0","    side = 1,"
"0","    at = X1[vals[[1]]],"
"0","    labels = X1[vals[[1]]],"
"0","    col = ""transparent"","
"0","    col.ticks = ""grey30"","
"0","    cex = 1.05"
"0","  )"
"0","  "
"0","  # axis labels"
"0","  mtext(text = ""Year"", side = 1, line = 1.75)"
"0","  mtext(text = ""Days sampled"", side = 2, line = 2)"
"0","})"
"0",""
