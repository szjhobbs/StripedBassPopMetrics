"0",""
"0","# for convenience of splitting & renaming"
"0","split_vars <- c(""RelYear"", ""CapMethod"")"
"0",""
"0","# to get at count tagged & total catch per split_vars"
"0","split_striper <- split("
"0","  Stripers[c(""TagNum"", ""TagAction"", ""Count"")], "
"0","  f = Stripers[split_vars],"
"0","  drop = FALSE"
"0",")"
"0",""
"0","# total catch & number tagged"
"0","catch <- vapply(split_striper, FUN = function(x) {"
"0","  "
"0","  # because tagging action 1 = tagged & field only active since 2011 not since"
"0","  # inception 1969 (prior to 2011 use NA)"
"0","  b <- is.na(x[[""TagAction""]]) | x[[""TagAction""]] %in% 1"
"0","  "
"0","  c(Tagged = sum(b), Total = sum(x[[""Count""]]))"
"0","  "
"0","}, FUN.VALUE = numeric(2L))"
"0",""
"0","# for convenience of display"
"0","catch <- data.frame("
"0","  do.call("
"0","    what = rbind,"
"0","    args = strsplit(dimnames(catch)[[2]], split = ""\\."")"
"0","  ),"
"0","  t(catch),"
"0","  stringsAsFactors = FALSE,"
"0","  row.names = NULL"
"0",")"
"0",""
"0","catch[] <- lapply(catch, FUN = as.numeric)"
"0",""
"0","colnames(catch)[1:length(split_vars)] <- split_vars"
"0",""
