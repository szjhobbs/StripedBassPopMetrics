"0",""
"0","catch$TagR <- lapply(catch[[""RelYear""]], FUN = function(y) {"
"0","  "
"0","  sex <- c(m = 'm', f = 'f')"
"0","  ry <- setNames(object = y + 0:4, nm = y + 0:4)"
"0","  "
"0","  lapply(sex, FUN = function(s) {"
"0","    "
"0","    a <- c(3:7, ""8p"")"
"0","    n <- length(a)"
"0","    "
"0","    vapply(ry, FUN = function(y0) {"
"0","      dd <- catch[[""AgeAssign""]][[as.character(y0)]][[s]]"
"0","      if (is.null(dd)) return(rep(0L, times = n))"
"0","      dd <- subset(dd, subset = TagActionF %in% 'R2')"
"0","      i <- match(dd[[""TagNum""]], table = tag_release[[""TagNum""]])"
"0","      o <- tag_release[i, ]"
"0","      b <- o[[""RelYear""]] %in% y"
"0","      r <- table(o[b, ""Aged""])"
"0","      "
"0","      # variable to be repeated within switch(); likely will be 0 but could"
"0","      # decide to use NA"
"0","      v <- 0L"
"0","      # v <- NA_integer_"
"0","      "
"0","      # so we can replace with 0s or NAs frequency for ages not updated"
"0","      # according to update years 1-4 (0s likely preferred as it makes summing"
"0","      # easier)"
"0","      switch ("
"0","        EXPR = as.character(y0 - y),"
"0","        `0` = r <- r[a],"
"0","        `1` = r <- c(r[a[1:4]], rep(v, times = 2)),"
"0","        `2` = r <- c(r[a[1:3]], rep(v, times = 3)),"
"0","        `3` = r <- c(r[a[1:2]], rep(v, times = 4)),"
"0","        `4` = r <- c(r[a[1]], rep(v, times = 5)),"
"0","        r <- c(r[a[1]], rep(v, times = 5))"
"0","      )"
"0","      "
"0","      r"
"0","      "
"0","    }, FUN.VALUE = numeric(n))"
"0","    # end vapply"
"0","  })"
"0","  # end inner lapply"
"0","})"
"0","# end outer lapply"
"0",""
"0","# clean up"
"0","# rm(tag_release)"
"0",""
