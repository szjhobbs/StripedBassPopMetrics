"0",""
"0","catch$BayC <- lapply(catch[[""RelYear""]], function(y) {"
"0","    "
"0","  # for desired ages"
"0","  a <- c(3:7, ""8p"")"
"0","  n <- length(a)"
"0","    "
"0","  # for looping below"
"0","  sex <- c(m = 'm', f = 'f')"
"0","  Y <- 0:4 # initial --> update years"
"0","    "
"0","  lapply(sex, FUN = function(s) {"
"0","    out <- vapply(Y, FUN = function(i) {"
"0","      y <- as.character(y + i)"
"0","      # to update only the appropriate ages"
"0","      if (i > 0) a <- a[-c(1:i, n)]"
"0","      CC <- creel[[""BayC""]][[y]][a, s]"
"0","      if (is.null(CC)) {"
"0","        # e <- vector(mode = ""numeric"", length = n)"
"0","        e <- rep(NA, times = n)"
"0","        e <- setNames(object = e, nm = c(3:7, ""8p""))"
"0","        return(e)"
"0","      }"
"0","      "
"0","      # to replace non-updated ages with zeroes"
"0","      if (length(a) < n) CC[(length(a) + 1):n] <- 0"
"0","      CC"
"0","    }, FUN.VALUE = numeric(6L))"
"0","    # end vapply"
"0","      "
"0","    dimnames(out)[[2]] <- y + Y"
"0","    out"
"0","  })"
"0","  # end inner lapply"
"0","  "
"0","  # works - do not delete ********************************"
"0","  # y <- as.character(y)"
"0","  # a <- c(3:7, ""8p"")"
"0","  #"
"0","  # d <- catch[[""AgeCom""]][[y]][[""m""]]"
"0","  #"
"0","  # # # [, ""Ml""]"
"0","  # # b <- dimnames(d)[[1]] %in% ""2"""
"0","  #"
"0","  # M <- d[a, ""Ml""]"
"0","  #"
"0","  # C <- creel[[""BayC""]][[y]][a, ""m""]"
"0","  #"
"0","  # R <- creel[[""Recaps""]][[y]][[""bay""]][a, y, ""m""]"
"0","  #"
"0","  # A <- (M * (C + 1)) / (R + 1)"
"0","  #"
"0","  # c(A, Tot = sum(A))"
"0","})"
"0","# end outer lapply"
"0",""
