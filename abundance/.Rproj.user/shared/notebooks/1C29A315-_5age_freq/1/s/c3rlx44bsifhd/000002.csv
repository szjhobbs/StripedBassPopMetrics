"0",""
"0","# for outside margins mostly for space on x- & y-axes to allow for tick labels &"
"0","# axis labels"
"0","par(oma = c(3, 3, 0.5, 0.5))"
"0",""
"0","# ********************************************************************"
"0","# for plotting all years in grid-like fashion ************************"
"0",""
"0","# to get number of plots (i.e., one plot per year)"
"0","nplots <- seq_len(length.out = nrow(catch))"
"0","# our desired number of columns for plot matrix"
"0","ncols <- 5"
"0","nrows <- ceiling(length(nplots) / ncols)"
"0","lomatrix <- substitute("
"0","  expr = matrix(data = d, ncol = nc, nrow = nr, byrow = TRUE),"
"0","  env = list(d = nplots, nc = ncols, nr = nrows)"
"0",")"
"0",""
"0","lo <- layout(mat = eval(expr = lomatrix))"
"0","# layout.show(n = lo)"
"0","# ********************************************************************"
"0",""
"0","par(mar = c(0.25, 0.25, 0.25, 0.25))"
"0",""
"0","plot_len_age <- Map(f = function(y, d) {"
"0","  "
"0","  p <- Plot(x = rng_age_all, y = rng_len_all)"
"0","  "
"0","  p$grid()"
"0","  "
"0","  # not crazy about the color scheme but will keep it for now"
"0","  cl <- c("
"0","    m = rgb(red = 39/255, green = 8/255, blue = 243/255, alpha = 0.2),"
"0","    f = rgb(red = 243/255, green = 8/255, blue = 173/255, alpha = 0.2)"
"0","  )"
"0","  "
"0","  # attempts below at different colors & points"
"0","  # cl <- c("
"0","  #   m = grey(level = 0.6, alpha = 0.1),"
"0","  #   f = grey(level = 0.6, alpha = 0.09)"
"0","  # )"
"0","  # "
"0","  # cl <- c("
"0","  #   m = adjustcolor(col = ""steelblue"", alpha.f = 0.1),"
"0","  #   f = adjustcolor(col = ""grey25"", alpha.f = 0.1)"
"0","  # )"
"0","  "
"0","  # pt <- c(m = ""\u2642"", f = ""\u2640"")"
"0","  # pt <- c(m = 1, f = 4)"
"0","  "
"0","  # to cycle through by sex & then plot length-at-age"
"0","  Map(f = function(nms, s) {"
"0","    "
"0","    # because some fish are 0 or single digits (errors that need to be cleaned)"
"0","    b <-  s[[""RelFL""]] >= 22"
"0","    "
"0","    # to add length at age with some noise in x-axis to mitigate overplotting"
"0","    points("
"0","      x = jitter(s[b, ""Aged""], factor = 0.5),"
"0","      y = s[b, ""RelFL""],"
"0","      col = grey(level = 0.75, alpha = 0.5),"
"0","      # col = rgb(red = 0, green = 0, blue = 0, alpha = 0.05),"
"0","      pch = 1,"
"0","      cex = 0.75"
"0","    )"
"0","    "
"0","    # gives many warnings and have not investigated"
"0","    lines("
"0","      loess.smooth("
"0","        x = s[b, ""Aged""],"
"0","        y = s[b, ""RelFL""]"
"0","      ), "
"0","      type = ""l"","
"0","      col = cl[nms],"
"0","      lwd = 2"
"0","    )"
"0","    "
"0","  }, names(d), d)"
"0","  # end Map"
"0","  "
"0","  # for placing year in bottom right of plot where probability of data begin"
"0","  # present there is nill"
"0","  text("
"0","    x = p[[""xrng""]][[2]],"
"0","    y = p[[""yrng""]][[1]], "
"0","    labels = y, "
"0","    cex = 0.9, "
"0","    font = 3, "
"0","    adj = c(1, 0),"
"0","    col = ""grey30"""
"0","  )"
"0","  "
"0","  # not crazy about this but for now it correctly places x- & y-axes tick"
"0","  # labels; tried using modulo but to no avail due to missing years"
"0","  if (y %in% c(1969, 1974, 1979, 1984, 1989, 1994, 2003, 2009, 2015)) "
"0","    Axis(p, side = 2, labelAdj = 0.3, cexAxis = 1)"
"0","  "
"0","  if (y %in% 2015:2019) "
"0","    Axis(p, side = 1, labelAdj = 0.3, cexAxis = 1)"
"0","  "
"0","  # no output for now"
"0","  invisible(NULL)"
"0","  "
"0","}, catch[[""RelYear""]], catch[[""AgeAssign""]])"
